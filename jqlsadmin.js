javascript: (function(){function l(a){var b=$('<div>'),e=$('<div>'),d=$('<fieldset>'),f=$('<span>');d.attr('id','jqls_admin').css({'-moz-border-radius':'8px','-webkit-border-radius':'8px','border-radius':'8px','font-family':'Arial','font-size':'12px',width:'800px',margin:'5px'});f.attr('id','jqls_close').css({position:'absolute',bottom:'5px',right:'5px',cursor:'pointer',color:'#444'}).click(function(){$('#jqls_overlay').remove();$(a).length&&$(a).remove()}).html('&raquo; Close jqLSAdmin &laquo;');$('body').append(b); b.css({display:'none',position:'fixed',top:0,left:0,width:'100%',height:'100%','background-color':'black','z-index':1001,'-moz-opacity':0.9,opacity:0.9,filter:'alpha(opacity=90)'}).attr('id','jqls_overlay').append(e);e.css({display:'none',position:'absolute',top:'15%',left:'20%',width:'830px','background-color':'#eee','z-index':1002,overflow:'hidden',opacity:1,filter:'alpha(opacity=100)',cursor:'default','-moz-border-radius':'8px','-webkit-border-radius':'8px','border-radius':'8px'}).attr('id','jqls_content').append(d).append('<br />').append(f);$('#jqls_overlay, #jqls_content').show();h();m()}function m(){$('.jqls_delete').live('click',function(){var a=$(this).parent('li'),b=a.attr('id');b=b.substring(9);localStorage.removeItem(b);a.remove()});$('.jqls_save').live('click',function(){var a=$('#jqls_new_key').val(),b=$('#jqls_new_value').val();if(a=='New Key'||b=='New Value')return!1;localStorage.setItem(a,b);h()});$('.jqls_edit').live('click',function(){var a=$(this).parent('span'),b=a.hasClass('jqls_key')?'175px':'479px',e=a.text(),d=new Date,f=$('<input>'),g=$('<span>');d=d.getTime();e=e.substring(0,e.length-1);f.attr({type:'text',id:'jqls_edit_val_'+d,name:'jqls_edit_val',value:e}).css({width:b,color:'#999','float':'left'});g.addClass('jqls_edit_save').attr('id','save_'+d).css({margin:'1px 0 0 2px','float':'left',cursor:'pointer'}).html('&nabla;');a.empty().append(f).append(g);$('#jqls_edit_val_'+d).data('origval',e)});$('.jqls_edit_save').live('click',function(){var a=$(this).parent('span'),b=$(this).attr('id').substr(5),e=a.hasClass('jqls_key'),d=a.find('input').data('origval');b=$('#jqls_edit_val_'+b).val();b!=d&&(e?(a=$('#jqls_key_'+d).find('span.jqls_data').text(),a=a.substring(0,a.length-1),localStorage.removeItem(d),localStorage.setItem(b,a)):(d=a.parent('li').attr('id'),d=d.substring(9),localStorage.setItem(d,b)));h()})}function h(){var a=localStorage.length-1,b=$('<ul>'),e=$('<legend>'),d=$('<span>'),f=$('<span>'),g=$('<li>'),h=$('<span>'),k=$('<span>');e.text('Values in Local Storage').css('font-weight','bold');f.addClass('jqls_edit').css({'float':'right',cursor:'pointer'}).html('&Delta;');d.addClass('jqls_delete').css({display:'block','float':'left',color:'red','font-weight':'bold',padding:'2px','font-size':'21px',margin:'3px 0',cursor:'pointer'}).html('&times;');$('#jqls_admin').empty().append(e);b.attr('id','keyValList').css('list-style','none').appendTo('#jqls_admin');h.css({'font-weight':'bold','font-size':'13px',display:'block',width:'210px','float':'left',margin:'3px'}).text('Key').appendTo(g);k.css({'font-weight':'bold','font-size':'13px',display:'block',width:'500px','float':'left',margin:'3px'}).text('Value').appendTo(g);g.appendTo(b);for(i=0;i<=a;i++){e=localStorage.key(i);g=localStorage.getItem(e);h=$('<span>');k=$('<span>');var j=$('<li>');j.attr('id','jqls_key_'+e).addClass('jqls_item').css('clear','both');h.css({width:'200px',display:'block','float':'left','background-color':'green',border:'1px solid #0c0',padding:'4px',margin:'3px'}).addClass('jqls_key').text(e).appendTo(j);k.css({width:'500px',display:'block','float':'left','background-color':'#0cf',border:'1px solid blue',padding:'4px',margin:'3px'}).addClass('jqls_data').text(g).appendTo(j);j.appendTo(b)}$('.jqls_key, .jqls_data').append(f);$('.jqls_item').append(d);a=$('<li>');d=$('<input>');f=$('<input>');e=$('<span>');d.attr({type:'text',name:'jqls_new_key',value:'New Key',id:'jqls_new_key'}).css({color:'#333',margin:'3px',width:'204px','float':'left'}).focus(function(){if(this.value=='New Key')this.value=''}).blur(function(){if(this.value=='')this.value='New Key'});f.attr({type:'text',name:'jqls_new_value',value:'New Value',id:'jqls_new_value'}).css({color:'#333',margin:'3px',width:'504px','float':'left'}).focus(function(){if(this.value=='New Value')this.value=''}).blur(function(){if(this.value=='')this.value='New Value'});e.addClass('jqls_save').css({margin:'4px 0 0 2px','float':'left',cursor:'pointer'}).html('&nabla;');a.css('clear','both').append(d,f,e);b.append(a)}if(typeof localStorage=='undefined')return alert('Your browser does not support HTML5 localStorage. Try upgrading.'),!1;else{try{localStorage.setItem('vkname','Vankoder')}catch(n){if(n==QUOTA_EXCEEDED_ERR)return alert('Quota exceeded!'),!1}localStorage.removeItem('vkname')}!window.jQuery||1>jQuery.fn.jquery?(c=document.createElement('script'),c.src='http://code.jquery.com/jquery-latest.min.js',document.documentElement.childNodes[0].appendChild(c),c.onload=c.onreadystatechange=function(){(!this.readyState||this.readyState=='loaded'||this.readyState=='complete')&&l(c)}):(c='',l(c))})();
